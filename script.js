// Game variables (declare at top to avoid conflicts)
let gameRunning = false;
let score = 0;
let gameInterval = null;
let currentLanguage = 'en';
let currentTheme = 'dark';
let quizData = [];
let currentQuestionIndex = 0;
let score = 0;
let gameRunning = false;
let gameScore = 0;

// Complete Translations
const translations = {
    en: {
        title: "Riot Legends - Gaming Website",
        logo: "RIOT LEGENDS",
        nav: {
            home: "Home",
            champions: "Champions", 
            quiz: "Quiz",
            game: "Game",
            news: "News"
        },
        hero: {
            title: "ENTER THE RIFT",
            subtitle: "Master the Legends, Conquer the Battlefield",
            cta: "START YOUR JOURNEY"
        },
        champions: {
            title: "CHOOSE YOUR CHAMPION",
            all: "All",
            assassin: "Assassin",
            mage: "Mage", 
            tank: "Tank",
            support: "Support",
            role: "Role:",
            description: "Description:",
            abilities: "Abilities:",
            lore: "Lore:"
        },
        quiz: {
            title: "CHAMPION KNOWLEDGE QUIZ",
            score: "Score:",
            start: "Start Quiz",
            next: "Next",
            complete: "Quiz Complete!",
            finalScore: "Your final score:",
            restart: "Restart Quiz"
        },
        game: {
            title: "SKILLSHOT DODGE GAME",
            subtitle: "Test Your Reflexes!",
            description: "Dodge incoming skillshots and survive as long as possible.",
            play: "ЁЯОо PLAY NOW",
            modal: {
                title: "Skillshot Dodge",
                start: "Start Game",
                score: "Score:",
                instructions: "Use mouse or WASD keys to move",
                gameOver: "Game Over! Final Score:",
                running: "Game Running..."
            }
        },
        news: {
            title: "LATEST UPDATES"
        }
    },
    te: {
        title: "р░░р▒Ир░Яр▒Н р░▓р▒Жр░Ьр▒Жр░Вр░бр▒Нр░╕р▒Н - р░Чр▒Зр░ор░┐р░Вр░Чр▒Н р░╡р▒Жр░мр▒НтАМр░╕р▒Ир░Яр▒Н",
        logo: "р░░р▒Ир░Яр▒Н р░▓р▒Жр░Ьр▒Жр░Вр░бр▒Нр░╕р▒Н",
        nav: {
            home: "р░╣р▒Лр░ор▒Н",
            champions: "р░Ър░╛р░Вр░кр░┐р░пр░ир▒Нр░╕р▒Н",
            quiz: "р░Хр▒Нр░╡р░┐р░Ьр▒Н",
            game: "р░Чр▒Зр░ор▒Н",
            news: "р░╡р░╛р░░р▒Нр░др░▓р▒Б"
        },
        hero: {
            title: "р░░р░┐р░лр▒Нр░Яр▒НтАМр░▓р▒Лр░Хр░┐ р░кр▒Нр░░р░╡р▒Зр░╢р░┐р░Вр░Ър░Вр░бр░┐",
            subtitle: "р░▓р▒Жр░Ьр▒Жр░Вр░бр▒Нр░╕р▒НтАМр░ир▒Б р░ор░╛р░╕р▒Нр░Яр░░р▒Н р░Ър▒Зр░пр░Вр░бр░┐, р░пр▒Бр░жр▒Нр░зр░нр▒Вр░ор░┐р░ир░┐ р░Ьр░пр░┐р░Вр░Ър░Вр░бр░┐",
            cta: "р░ор▒А р░кр▒Нр░░р░пр░╛р░гр░В р░кр▒Нр░░р░╛р░░р░Вр░нр░┐р░Вр░Ър░Вр░бр░┐"
        },
        champions: {
            title: "р░ор▒А р░Ър░╛р░Вр░кр░┐р░пр░ир▒НтАМр░ир▒Б р░Ор░Вр░Ър▒Бр░Хр▒Лр░Вр░бр░┐",
            all: "р░Ер░ир▒Нр░ир▒А",
            assassin: "р░╣р░Вр░др░Хр▒Бр░бр▒Б",
            mage: "р░ор░╛р░Вр░др▒Нр░░р░┐р░Хр▒Бр░бр▒Б",
            tank: "р░Яр▒Нр░пр░╛р░Вр░Хр▒Н",
            support: "р░ор░жр▒Нр░жр░др▒Б",
            role: "р░кр░╛р░др▒Нр░░:",
            description: "р░╡р░┐р░╡р░░р░г:",
            abilities: "р░╕р░╛р░ор░░р▒Нр░ер▒Нр░пр░╛р░▓р▒Б:",
            lore: "р░Хр░е:"
        },
        quiz: {
            title: "р░Ър░╛р░Вр░кр░┐р░пр░ир▒Н р░Ьр▒Нр░Юр░╛р░и р░кр░░р▒Ар░Хр▒Нр░╖",
            score: "р░╕р▒Нр░Хр▒Лр░░р▒Н:",
            start: "р░Хр▒Нр░╡р░┐р░Ьр▒Н р░кр▒Нр░░р░╛р░░р░Вр░нр░┐р░Вр░Ър░Вр░бр░┐",
            next: "р░др░жр▒Бр░кр░░р░┐",
            complete: "р░Хр▒Нр░╡р░┐р░Ьр▒Н р░кр▒Вр░░р▒Нр░др░пр░┐р░Вр░жр░┐!",
            finalScore: "р░ор▒А р░Ър░┐р░╡р░░р░┐ р░╕р▒Нр░Хр▒Лр░░р▒Н:",
            restart: "р░ор░│р▒Нр░▓р▒А р░кр▒Нр░░р░пр░др▒Нр░ир░┐р░Вр░Ър░Вр░бр░┐"
        },
        game: {
            title: "р░╕р▒Нр░Хр░┐р░▓р▒НтАМр░╖р░╛р░Яр▒Н р░бр░╛р░бр▒Нр░Ьр▒Н р░Чр▒Зр░ор▒Н",
            subtitle: "р░ор▒А р░░р░┐р░лр▒Нр░▓р▒Жр░Хр▒Нр░╕р▒НтАМр░▓р░ир▒Б р░кр░░р▒Ар░Хр▒Нр░╖р░┐р░Вр░Ър░Вр░бр░┐!",
            description: "р░╡р░Ър▒Нр░Ър▒З р░╕р▒Нр░Хр░┐р░▓р▒НтАМр░╖р░╛р░Яр▒НтАМр░▓р░ир▒Б р░др░кр▒Нр░кр░┐р░Вр░Ър░Вр░бр░┐ р░ор░░р░┐р░пр▒Б р░╡р▒Ар░▓р▒Ир░ир░Вр░д р░Хр░╛р░▓р░В р░Ьр▒Ар░╡р░┐р░Вр░Ър░Вр░бр░┐ред",
            play: "ЁЯОо р░Зр░кр▒Нр░кр▒Бр░бр▒З р░Жр░бр░Вр░бр░┐",
            modal: {
                title: "р░╕р▒Нр░Хр░┐р░▓р▒НтАМр░╖р░╛р░Яр▒Н р░бр░╛р░бр▒Нр░Ьр▒Н",
                start: "р░Чр▒Зр░ор▒Н р░кр▒Нр░░р░╛р░░р░Вр░нр░┐р░Вр░Ър░Вр░бр░┐",
                score: "р░╕р▒Нр░Хр▒Лр░░р▒Н:",
                instructions: "р░Хр░жр░▓р░бр░╛р░ир░┐р░Хр░┐ р░ор▒Мр░╕р▒Н р░▓р▒Зр░жр░╛ WASD р░Хр▒Ар░▓р░ир▒Б р░Йр░кр░пр▒Лр░Чр░┐р░Вр░Ър░Вр░бр░┐",
                gameOver: "р░Чр▒Зр░ор▒Н р░ор▒Бр░Чр░┐р░╕р░┐р░Вр░жр░┐! р░Ър░┐р░╡р░░р░┐ р░╕р▒Нр░Хр▒Лр░░р▒Н:",
                running: "р░Чр▒Зр░ор▒Н р░ир░бр▒Бр░╕р▒Нр░др▒Лр░Вр░жр░┐..."
            }
        },
        news: {
            title: "р░др░╛р░Ьр░╛ р░Ер░кр▒НтАМр░бр▒Зр░Яр▒НтАМр░▓р▒Б"
        }
    },
    hi: {
        title: "рд░рд╛рдпрдЯ рд▓реЗрдЬреЗрдВрдбреНрд╕ - рдЧреЗрдорд┐рдВрдЧ рд╡реЗрдмрд╕рд╛рдЗрдЯ",
        logo: "рд░рд╛рдпрдЯ рд▓реЗрдЬреЗрдВрдбреНрд╕",
        nav: {
            home: "рд╣реЛрдо",
            champions: "рдЪреИрдВрдкрд┐рдпрдиреНрд╕",
            quiz: "рдХреНрд╡рд┐рдЬрд╝",
            game: "рдЧреЗрдо",
            news: "рд╕рдорд╛рдЪрд╛рд░"
        },
        hero: {
            title: "рд░рд┐рдлреНрдЯ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░реЗрдВ",
            subtitle: "рд▓реЗрдЬреЗрдВрдбреНрд╕ рдХреЛ рдорд╛рд╕реНрдЯрд░ рдХрд░реЗрдВ, рдпреБрджреНрдзрдХреНрд╖реЗрддреНрд░ рдХреЛ рдЬреАрддреЗрдВ",
            cta: "рдЕрдкрдиреА рдпрд╛рддреНрд░рд╛ рд╢реБрд░реВ рдХрд░реЗрдВ"
        },
        champions: {
            title: "рдЕрдкрдирд╛ рдЪреИрдВрдкрд┐рдпрди рдЪреБрдиреЗрдВ",
            all: "рд╕рднреА",
            assassin: "рд╣рддреНрдпрд╛рд░рд╛",
            mage: "рдЬрд╛рджреВрдЧрд░",
            tank: "рдЯреИрдВрдХ",
            support: "рд╕рд╣рд╛рдпрддрд╛",
            role: "рднреВрдорд┐рдХрд╛:",
            description: "рд╡рд┐рд╡рд░рдг:",
            abilities: "рдХреНрд╖рдорддрд╛рдПрдВ:",
            lore: "рдХрд╣рд╛рдиреА:"
        },
        quiz: {
            title: "рдЪреИрдВрдкрд┐рдпрди рдЬреНрдЮрд╛рди рдХреНрд╡рд┐рдЬрд╝",
            score: "рд╕реНрдХреЛрд░:",
            start: "рдХреНрд╡рд┐рдЬрд╝ рд╢реБрд░реВ рдХрд░реЗрдВ",
            next: "рдЕрдЧрд▓рд╛",
            complete: "рдХреНрд╡рд┐рдЬрд╝ рдкреВрд░рд╛!",
            finalScore: "рдЖрдкрдХрд╛ рдЕрдВрддрд┐рдо рд╕реНрдХреЛрд░:",
            restart: "рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ"
        },
        game: {
            title: "рд╕реНрдХрд┐рд▓рд╢реЙрдЯ рдбреЙрдЬ рдЧреЗрдо",
            subtitle: "рдЕрдкрдиреЗ рд░рд┐рдлреНрд▓реЗрдХреНрд╕ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ!",
            description: "рдЖрдиреЗ рд╡рд╛рд▓реЗ рд╕реНрдХрд┐рд▓рд╢реЙрдЯреНрд╕ рд╕реЗ рдмрдЪреЗрдВ рдФрд░ рдЬрд┐рддрдиреА рджреЗрд░ рд╣реЛ рд╕рдХреЗ рдЬреАрд╡рд┐рдд рд░рд╣реЗрдВред",
            play: "ЁЯОо рдЕрднреА рдЦреЗрд▓реЗрдВ",
            modal: {
                title: "рд╕реНрдХрд┐рд▓рд╢реЙрдЯ рдбреЙрдЬ",
                start: "рдЧреЗрдо рд╢реБрд░реВ рдХрд░реЗрдВ",
                score: "рд╕реНрдХреЛрд░:",
                instructions: "рдЪрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рдЙрд╕ рдпрд╛ WASD рдХреАрдЬрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ",
                gameOver: "рдЧреЗрдо рдУрд╡рд░! рдЕрдВрддрд┐рдо рд╕реНрдХреЛрд░:",
                running: "рдЧреЗрдо рдЪрд▓ рд░рд╣рд╛ рд╣реИ..."
            }
        },
        news: {
            title: "рдирд╡реАрдирддрдо рдЕрдкрдбреЗрдЯ"
        }
    },
    ja: {
        title: "уГйуВдуВкуГГуГИуГмуВ╕уВзуГ│уВ║ - уВ▓уГ╝уГЯуГ│уВ░уВжуВзуГЦуВ╡уВдуГИ",
        logo: "уГйуВдуВкуГГуГИуГмуВ╕уВзуГ│уВ║",
        nav: {
            home: "уГЫуГ╝уГа",
            champions: "уГБуГгуГ│уГФуВкуГ│",
            quiz: "уВпуВдуВ║",
            game: "уВ▓уГ╝уГа",
            news: "уГЛуГеуГ╝уВ╣"
        },
        hero: {
            title: "уГкуГХуГИуБлхЕеуВЛ",
            subtitle: "уГмуВ╕уВзуГ│уГЙуВТуГЮуВ╣уВ┐уГ╝уБЧуАБцИжха┤уВТх╛БцЬНуБЩуВЛ",
            cta: "цЧЕуВТхзЛуВБуВЛ"
        },
        champions: {
            title: "уГБуГгуГ│уГФуВкуГ│уВТщБ╕уБ╢",
            all: "уБЩуБ╣уБж",
            assassin: "уВвуВ╡уВ╖уГ│",
            mage: "уГбуВдуВ╕",
            tank: "уВ┐уГ│уВп",
            support: "уВ╡уГЭуГ╝уГИ",
            role: "х╜╣хЙ▓:",
            description: "шкмцШО:",
            abilities: "уВвуГУуГкуГЖуВг:",
            lore: "уВ╣уГИуГ╝уГкуГ╝:"
        },
        quiz: {
            title: "уГБуГгуГ│уГФуВкуГ│чЯешнШуВпуВдуВ║",
            score: "уВ╣уВ│уВв:",
            start: "уВпуВдуВ║щЦЛхзЛ",
            next: "цмбуБ╕",
            complete: "уВпуВдуВ║хоМф║Жя╝Б",
            finalScore: "цЬАч╡ВуВ╣уВ│уВв:",
            restart: "хЖНщЦЛхзЛ"
        },
        game: {
            title: "уВ╣уВнуГлуВ╖уГзуГГуГИхЫЮщБ┐уВ▓уГ╝уГа",
            subtitle: "хПНх░ДчеЮч╡МуВТуГЖуВ╣уГИя╝Б",
            description: "щгЫуВУуБзуБПуВЛуВ╣уВнуГлуВ╖уГзуГГуГИуВТщБ┐уБСуБжуАБуБзуБНуВЛуБауБСщХ╖уБПчФЯуБНцоЛуВНуБЖуАВ",
            play: "ЁЯОо ф╗КуБЩуБРуГЧуГмуВд",
            modal: {
                title: "уВ╣уВнуГлуВ╖уГзуГГуГИхЫЮщБ┐",
                start: "уВ▓уГ╝уГащЦЛхзЛ",
                score: "уВ╣уВ│уВв:",
                instructions: "чз╗хЛХуБлуБпуГЮуВжуВ╣уБ╛уБЯуБпWASDуВнуГ╝уВТф╜┐чФи",
                gameOver: "уВ▓уГ╝уГауВкуГ╝уГРуГ╝я╝БцЬАч╡ВуВ╣уВ│уВв:",
                running: "уВ▓уГ╝уГахоЯшбМф╕н..."
            }
        },
        news: {
            title: "цЬАцЦ░уВвуГГуГЧуГЗуГ╝уГИ"
        }
    },
    ko: {
        title: "ыЭ╝ьЭ┤ьЧЗ ыаИьаДыУЬ - ъ▓МьЭ┤ы░Н ьЫ╣ьВмьЭ┤эК╕",
        logo: "ыЭ╝ьЭ┤ьЧЗ ыаИьаДыУЬ",
        nav: {
            home: "эЩИ",
            champions: "ь▒ФэФ╝ьЦ╕",
            quiz: "эА┤ьжИ",
            game: "ъ▓МьЮД",
            news: "ыЙ┤ьКд"
        },
        hero: {
            title: "ыжмэФДэК╕ьЧР ьЮЕьЮеэХШьД╕ьЪФ",
            subtitle: "ыаИьаДыУЬые╝ ызИьКдэД░эХШъ│а ьаДьЮеьЭД ьаХы│╡эХШьД╕ьЪФ",
            cta: "ьЧмьаХьЭД ьЛЬьЮСэХШьД╕ьЪФ"
        },
        champions: {
            title: "ь▒ФэФ╝ьЦ╕ьЭД ьДаэГЭэХШьД╕ьЪФ",
            all: "ьаДь▓┤",
            assassin: "ьХФьВ┤ьЮР",
            mage: "ызИы▓ХьВм",
            tank: "эГ▒ь╗д",
            support: "ьДЬэПмэД░",
            role: "ьЧнэХа:",
            description: "ьДдыкЕ:",
            abilities: "ьКдэВм:",
            lore: "ьКдэЖаыжм:"
        },
        quiz: {
            title: "ь▒ФэФ╝ьЦ╕ ьзАьЛЭ эА┤ьжИ",
            score: "ьаРьИШ:",
            start: "эА┤ьжИ ьЛЬьЮС",
            next: "ыЛдьЭМ",
            complete: "эА┤ьжИ ьЩДыгМ!",
            finalScore: "ь╡ЬьвЕ ьаРьИШ:",
            restart: "ыЛдьЛЬ ьЛЬьЮС"
        },
        game: {
            title: "ьКдэВмьГ╖ эФ╝эХШъ╕░ ъ▓МьЮД",
            subtitle: "ы░ШьВмьЛаъ▓╜ьЭД эЕМьКдэК╕эХШьД╕ьЪФ!",
            description: "ыВаьХДьШдыКФ ьКдэВмьГ╖ьЭД эФ╝эХШъ│а ь╡ЬыМАэХЬ ьШдыЮШ ьВ┤ьХДыВиьЬ╝ьД╕ьЪФ.",
            play: "ЁЯОо ьзАъ╕И эФМыаИьЭ┤",
            modal: {
                title: "ьКдэВмьГ╖ эФ╝эХШъ╕░",
                start: "ъ▓МьЮД ьЛЬьЮС",
                score: "ьаРьИШ:",
                instructions: "ьЭ┤ыПЩэХШыадый┤ ызИьЪ░ьКдыВШ WASD эВдые╝ ьВмьЪйэХШьД╕ьЪФ",
                gameOver: "ъ▓МьЮД ьШды▓Д! ь╡ЬьвЕ ьаРьИШ:",
                running: "ъ▓МьЮД ьЛдэЦЙ ьдС..."
            }
        },
        news: {
            title: "ь╡ЬьЛа ьЧЕыН░ьЭ┤эК╕"
        }
    },
    es: {
        title: "Riot Legends - Sitio Web de Juegos",
        logo: "RIOT LEGENDS",
        nav: {
            home: "Inicio",
            champions: "Campeones",
            quiz: "Quiz",
            game: "Juego",
            news: "Noticias"
        },
        hero: {
            title: "ENTRA EN LA GRIETA",
            subtitle: "Domina las Leyendas, Conquista el Campo de Batalla",
            cta: "COMIENZA TU VIAJE"
        },
        champions: {
            title: "ELIGE TU CAMPE├УN",
            all: "Todos",
            assassin: "Asesino",
            mage: "Mago",
            tank: "Tanque",
            support: "Apoyo",
            role: "Rol:",
            description: "Descripci├│n:",
            abilities: "Habilidades:",
            lore: "Historia:"
        },
        quiz: {
            title: "QUIZ DE CONOCIMIENTO DE CAMPEONES",
            score: "Puntuaci├│n:",
            start: "Iniciar Quiz",
            next: "Siguiente",
            complete: "┬бQuiz Completado!",
            finalScore: "Tu puntuaci├│n final:",
            restart: "Reiniciar Quiz"
        },
        game: {
            title: "JUEGO DE ESQUIVAR HABILIDADES",
            subtitle: "┬бPon a Prueba tus Reflejos!",
            description: "Esquiva las habilidades entrantes y sobrevive el mayor tiempo posible.",
            play: "ЁЯОо JUGAR AHORA",
            modal: {
                title: "Esquivar Habilidades",
                start: "Iniciar Juego",
                score: "Puntuaci├│n:",
                instructions: "Usa el rat├│n o las teclas WASD para moverte",
                gameOver: "┬бJuego Terminado! Puntuaci├│n Final:",
                running: "Juego en Ejecuci├│n..."
            }
        },
        news: {
            title: "├ЪLTIMAS ACTUALIZACIONES"
        }
    }
    te: {
        title: "р░░р▒Ир░Яр▒Н р░▓р▒Жр░Ьр▒Жр░Вр░бр▒Нр░╕р▒Н",
        heroTitle: "р░░р░┐р░лр▒Нр░Яр▒НтАМр░▓р▒Лр░Хр░┐ р░кр▒Нр░░р░╡р▒Зр░╢р░┐р░Вр░Ър░Вр░бр░┐",
        heroSubtitle: "р░▓р▒Жр░Ьр▒Жр░Вр░бр▒Нр░╕р▒НтАМр░ир▒Б р░ор░╛р░╕р▒Нр░Яр░░р▒Н р░Ър▒Зр░пр░Вр░бр░┐, р░пр▒Бр░жр▒Нр░зр░нр▒Вр░ор░┐р░ир░┐ р░Ьр░пр░┐р░Вр░Ър░Вр░бр░┐",
        heroCta: "р░ор▒А р░кр▒Нр░░р░пр░╛р░гр░В р░кр▒Нр░░р░╛р░░р░Вр░нр░┐р░Вр░Ър░Вр░бр░┐",
        championsTitle: "р░ор▒А р░Ър░╛р░Вр░кр░┐р░пр░ир▒НтАМр░ир▒Б р░Ор░Вр░Ър▒Бр░Хр▒Лр░Вр░бр░┐",
        quizTitle: "р░Ър░╛р░Вр░кр░┐р░пр░ир▒Н р░Ьр▒Нр░Юр░╛р░и р░кр░░р▒Ар░Хр▒Нр░╖",
        gameTitle: "р░╕р▒Нр░Хр░┐р░▓р▒НтАМр░╖р░╛р░Яр▒Н р░бр░╛р░бр▒Нр░Ьр▒Н р░Чр▒Зр░ор▒Н",
        newsTitle: "р░др░╛р░Ьр░╛ р░Ер░кр▒НтАМр░бр▒Зр░Яр▒НтАМр░▓р▒Б"
    },
    hi: {
        title: "рд░рд╛рдпрдЯ рд▓реЗрдЬреЗрдВрдбреНрд╕",
        heroTitle: "рд░рд┐рдлреНрдЯ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░реЗрдВ",
        heroSubtitle: "рд▓реЗрдЬреЗрдВрдбреНрд╕ рдХреЛ рдорд╛рд╕реНрдЯрд░ рдХрд░реЗрдВ, рдпреБрджреНрдзрдХреНрд╖реЗрддреНрд░ рдХреЛ рдЬреАрддреЗрдВ",
        heroCta: "рдЕрдкрдиреА рдпрд╛рддреНрд░рд╛ рд╢реБрд░реВ рдХрд░реЗрдВ",
        championsTitle: "рдЕрдкрдирд╛ рдЪреИрдВрдкрд┐рдпрди рдЪреБрдиреЗрдВ",
        quizTitle: "рдЪреИрдВрдкрд┐рдпрди рдЬреНрдЮрд╛рди рдХреНрд╡рд┐рдЬрд╝",
        gameTitle: "рд╕реНрдХрд┐рд▓рд╢реЙрдЯ рдбреЙрдЬ рдЧреЗрдо",
        newsTitle: "рдирд╡реАрдирддрдо рдЕрдкрдбреЗрдЯ"
    },
    ja: {
        title: "уГйуВдуВкуГГуГИуГмуВ╕уВзуГ│уВ║",
        heroTitle: "уГкуГХуГИуБлхЕеуВЛ",
        heroSubtitle: "уГмуВ╕уВзуГ│уГЙуВТуГЮуВ╣уВ┐уГ╝уБЧуАБцИжха┤уВТх╛БцЬНуБЩуВЛ",
        heroCta: "цЧЕуВТхзЛуВБуВЛ",
        championsTitle: "уГБуГгуГ│уГФуВкуГ│уВТщБ╕уБ╢",
        quizTitle: "уГБуГгуГ│уГФуВкуГ│чЯешнШуВпуВдуВ║",
        gameTitle: "уВ╣уВнуГлуВ╖уГзуГГуГИхЫЮщБ┐уВ▓уГ╝уГа",
        newsTitle: "цЬАцЦ░уВвуГГуГЧуГЗуГ╝уГИ"
    },
    ko: {
        title: "ыЭ╝ьЭ┤ьЧЗ ыаИьаДыУЬ",
        heroTitle: "ыжмэФДэК╕ьЧР ьЮЕьЮеэХШьД╕ьЪФ",
        heroSubtitle: "ыаИьаДыУЬые╝ ызИьКдэД░эХШъ│а ьаДьЮеьЭД ьаХы│╡эХШьД╕ьЪФ",
        heroCta: "ьЧмьаХьЭД ьЛЬьЮСэХШьД╕ьЪФ",
        championsTitle: "ь▒ФэФ╝ьЦ╕ьЭД ьДаэГЭэХШьД╕ьЪФ",
        quizTitle: "ь▒ФэФ╝ьЦ╕ ьзАьЛЭ эА┤ьжИ",
        gameTitle: "ьКдэВмьГ╖ эФ╝эХШъ╕░ ъ▓МьЮД",
        newsTitle: "ь╡ЬьЛа ьЧЕыН░ьЭ┤эК╕"
    },
    es: {
        title: "Riot Legends",
        heroTitle: "ENTRA EN LA GRIETA",
        heroSubtitle: "Domina las Leyendas, Conquista el Campo de Batalla",
        heroCta: "COMIENZA TU VIAJE",
        championsTitle: "ELIGE TU CAMPE├УN",
        quizTitle: "QUIZ DE CONOCIMIENTO DE CAMPEONES",
        gameTitle: "JUEGO DE ESQUIVAR HABILIDADES",
        newsTitle: "├ЪLTIMAS ACTUALIZACIONES"
    }
};

// Champions Data
const champions = [
    {
        id: 1,
        name: "Yasuo",
        role: "assassin",
        image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Yasuo_0.jpg",
        description: "An Ionian of deep resolve, Yasuo is an agile swordsman who wields the air itself against his enemies.",
        abilities: ["Steel Tempest", "Wind Wall", "Sweeping Blade", "Last Breath"],
        lore: "Yasuo is a man of resolve, an agile warrior who wields the power of the wind itself to cut down his enemies."
    },
    {
        id: 2,
        name: "Ahri",
        role: "mage",
        image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Ahri_0.jpg",
        description: "Innately connected to the latent power of Runeterra, Ahri is a vastaya who can reshape magic into orbs of raw energy.",
        abilities: ["Orb of Deception", "Fox-Fire", "Charm", "Spirit Rush"],
        lore: "Ahri is a vastaya who feeds off the life essence of others, but has begun to feel remorse for her actions."
    },
    {
        id: 3,
        name: "Garen",
        role: "tank",
        image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Garen_0.jpg",
        description: "A proud and noble warrior, Garen fights as one of the Dauntless Vanguard.",
        abilities: ["Decisive Strike", "Courage", "Judgment", "Demacian Justice"],
        lore: "Garen is a warrior of Demacia who has devoted his life to defending his homeland and its ideals."
    },
    {
        id: 4,
        name: "Soraka",
        role: "support",
        image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Soraka_0.jpg",
        description: "A healer gifted with the magic of the stars, Soraka holds the lives of her allies in her hands.",
        abilities: ["Starcall", "Astral Infusion", "Equinox", "Wish"],
        lore: "Soraka is a being of the celestial realm who gave up her immortality to help the mortals of Runeterra."
    },
    {
        id: 5,
        name: "Zed",
        role: "assassin",
        image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Zed_0.jpg",
        description: "The master of shadows, Zed is the leader of the Order of Shadow.",
        abilities: ["Razor Shuriken", "Living Shadow", "Shadow Slash", "Death Mark"],
        lore: "Zed is the first ninja in over a century to unlock the ancient, forbidden ways."
    },
    {
        id: 6,
        name: "Lux",
        role: "mage",
        image: "https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Lux_0.jpg",
        description: "Luxanna Crownguard hails from Demacia, where magical abilities are viewed with fear.",
        abilities: ["Light Binding", "Prismatic Barrier", "Lucent Singularity", "Final Spark"],
        lore: "Born to the prestigious Crownguards, Lux was destined for a life of privilege."
    }
];

// Quiz Questions
const quizQuestions = [
    {
        question: "Which champion is known as 'The Unforgiven'?",
        options: ["Yasuo", "Zed", "Talon", "Katarina"],
        correct: 0
    },
    {
        question: "What is Ahri's ultimate ability called?",
        options: ["Charm", "Spirit Rush", "Fox-Fire", "Orb of Deception"],
        correct: 1
    },
    {
        question: "Which region is Garen from?",
        options: ["Noxus", "Ionia", "Demacia", "Piltover"],
        correct: 2
    },
    {
        question: "What type of champion is Soraka?",
        options: ["Tank", "Assassin", "Mage", "Support"],
        correct: 3
    },
    {
        question: "Which champion leads the Order of Shadow?",
        options: ["Shen", "Zed", "Akali", "Kennen"],
        correct: 1
    }
];

// News Data
const newsItems = [
    {
        title: "New Champion Revealed: Briar, The Restrained Hunger",
        date: "2024-01-15",
        excerpt: "Meet the latest addition to the Rift - a vampire champion with unique mechanics.",
        image: "https://picsum.photos/300/200?random=1"
    },
    {
        title: "Worlds 2024 Championship Finals",
        date: "2024-01-10",
        excerpt: "The most epic showdown in League of Legends esports history.",
        image: "https://picsum.photos/300/200?random=2"
    },
    {
        title: "Arena Game Mode Returns",
        date: "2024-01-08",
        excerpt: "The fan-favorite 2v2v2v2 game mode is back with new features.",
        image: "https://picsum.photos/300/200?random=3"
    },
    {
        title: "Patch 14.2 Balance Changes",
        date: "2024-01-05",
        excerpt: "Major updates to champion abilities and item adjustments.",
        image: "https://picsum.photos/300/200?random=4"
    }
];

// Initialize Website
document.addEventListener('DOMContentLoaded', function() {
    loadChampions();
    startHeroRotation();
    updateTranslations();
});

// Language Functions
function changeLanguage(lang) {
    currentLanguage = lang;
    updateTranslations();
}

function getTranslation(key) {
    const t = translations[currentLanguage];
    if (!t) return key;
    
    const keys = key.split('.');
    let value = t;
    
    for (const k of keys) {
        if (value && typeof value === 'object' && k in value) {
            value = value[k];
        } else {
            return key;
        }
    }
    
    return value || key;
}

function updateTranslations() {
    // Update all elements with data-translate attribute
    const elements = document.querySelectorAll('[data-translate]');
    elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        const translation = getTranslation(key);
        
        if (element.tagName === 'INPUT' && element.type === 'text') {
            element.placeholder = translation;
        } else if (element.tagName === 'TITLE') {
            element.textContent = translation;
        } else {
            element.textContent = translation;
        }
    });
    
    // Update document title
    document.title = getTranslation('title');
    
    // Update quiz score if quiz is active
    updateQuizScore();
    
    // Update game score if game is active
    updateGameScore();
}

// Theme Functions
function toggleTheme() {
    currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
    document.documentElement.setAttribute('data-theme', currentTheme);
    
    const themeBtn = document.querySelector('.theme-toggle');
    if (themeBtn) {
        themeBtn.textContent = currentTheme === 'dark' ? 'ЁЯМЩ' : 'тШАя╕П';
    }
}

// Champion Functions
function loadChampions() {
    const grid = document.getElementById('championsGrid');
    if (!grid) return;
    
    grid.innerHTML = '';
    
    champions.forEach(champion => {
        const card = document.createElement('div');
        card.className = 'champion-card';
        card.dataset.role = champion.role;
        card.onclick = () => showChampionDetails(champion);
        
        card.innerHTML = `
            <img src="${champion.image}" alt="${champion.name}" class="champion-image" 
                 onerror="this.src='https://via.placeholder.com/300x200/c89b3c/ffffff?text=${champion.name}'">
            <div class="champion-info">
                <h3 class="champion-name">${champion.name}</h3>
                <p class="champion-role">${champion.role.toUpperCase()}</p>
                <p class="champion-description">${champion.description}</p>
            </div>
        `;
        
        grid.appendChild(card);
    });
}

function filterChampions(role) {
    const cards = document.querySelectorAll('.champion-card');
    const buttons = document.querySelectorAll('.filter-btn');
    
    // Update active button
    buttons.forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
    
    // Filter cards
    cards.forEach(card => {
        if (role === 'all' || card.dataset.role === role) {
            card.style.display = 'block';
        } else {
            card.style.display = 'none';
        }
    });
}

function showChampionDetails(champion) {
    const modal = document.getElementById('championModal');
    const details = document.getElementById('championDetails');
    
    if (!modal || !details) return;
    
    details.innerHTML = `
        <h2>${champion.name}</h2>
        <img src="${champion.image}" alt="${champion.name}" style="width: 200px; height: 300px; object-fit: cover; border-radius: 10px; margin: 1rem 0;">
        <p><strong>${getTranslation('champions.role')}</strong> ${champion.role.toUpperCase()}</p>
        <p><strong>${getTranslation('champions.description')}</strong> ${champion.description}</p>
        <h3>${getTranslation('champions.abilities')}</h3>
        <ul>
            ${champion.abilities.map(ability => `<li>${ability}</li>`).join('')}
        </ul>
        <h3>${getTranslation('champions.lore')}</h3>
        <p>${champion.lore}</p>
    `;
    
    modal.style.display = 'block';
}

function closeChampionModal() {
    const modal = document.getElementById('championModal');
    if (modal) modal.style.display = 'none';
}

// Hero Rotation
function startHeroRotation() {
    const heroImage = document.getElementById('heroImage');
    if (!heroImage) return;
    
    let currentIndex = 0;
    
    setInterval(() => {
        currentIndex = (currentIndex + 1) % champions.length;
        heroImage.src = champions[currentIndex].image;
    }, 5000);
}

// Quiz Functions
function startQuiz() {
    quizData = [...quizQuestions];
    currentQuestionIndex = 0;
    score = 0;
    
    document.getElementById('startQuiz').style.display = 'none';
    showQuestion();
}

function showQuestion() {
    if (currentQuestionIndex >= quizData.length) {
        showQuizResults();
        return;
    }
    
    const question = quizData[currentQuestionIndex];
    const questionEl = document.getElementById('quizQuestion');
    const optionsEl = document.getElementById('quizOptions');
    
    if (!questionEl || !optionsEl) return;
    
    questionEl.textContent = question.question;
    updateQuizScore();
    
    optionsEl.innerHTML = '';
    question.options.forEach((option, index) => {
        const button = document.createElement('button');
        button.className = 'quiz-option';
        button.textContent = option;
        button.onclick = () => selectAnswer(index);
        optionsEl.appendChild(button);
    });
}

function selectAnswer(selectedIndex) {
    const question = quizData[currentQuestionIndex];
    const options = document.querySelectorAll('.quiz-option');
    
    options.forEach((option, index) => {
        if (index === question.correct) {
            option.classList.add('correct');
        } else if (index === selectedIndex && index !== question.correct) {
            option.classList.add('incorrect');
        }
        option.disabled = true;
    });
    
    if (selectedIndex === question.correct) {
        score++;
    }
    
    const nextBtn = document.getElementById('nextQuestion');
    if (nextBtn) {
        nextBtn.style.display = 'inline-block';
        nextBtn.textContent = getTranslation('quiz.next');
    }
}

function nextQuestion() {
    currentQuestionIndex++;
    document.getElementById('nextQuestion').style.display = 'none';
    showQuestion();
}

function showQuizResults() {
    const questionEl = document.getElementById('quizQuestion');
    const optionsEl = document.getElementById('quizOptions');
    
    if (!questionEl || !optionsEl) return;
    
    questionEl.textContent = getTranslation('quiz.complete');
    optionsEl.innerHTML = `<p>${getTranslation('quiz.finalScore')} ${score}/${quizData.length}</p>`;
    updateQuizScore();
    
    const startBtn = document.getElementById('startQuiz');
    if (startBtn) {
        startBtn.style.display = 'inline-block';
        startBtn.textContent = getTranslation('quiz.restart');
    }
}

function updateQuizScore() {
    const scoreEl = document.getElementById('quizScore');
    if (scoreEl) {
        const scoreSpan = scoreEl.querySelector('span');
        if (scoreSpan) {
            scoreSpan.textContent = getTranslation('quiz.score');
        }
    }
}

// Simple Working Game
let gameRunning = false;
let score = 0;
let gameInterval;

function openGame() {
    console.log('Opening game modal...');
    const modal = document.getElementById('gameModal');
    if (modal) {
        modal.style.display = 'block';
        console.log('Modal opened');
    } else {
        console.log('Modal not found!');
    }
}

function closeGame() {
    const modal = document.getElementById('gameModal');
    if (modal) {
        modal.style.display = 'none';
    }
    if (gameInterval) {
        clearInterval(gameInterval);
        gameRunning = false;
    }
}

function startSkillshotGame() {
    console.log('Starting game...');
    if (gameRunning) return;
    
    const canvas = document.getElementById('gameCanvas');
    if (!canvas) {
        console.log('Canvas not found!');
        return;
    }
    
    const ctx = canvas.getContext('2d');
    const startBtn = document.getElementById('startGame');
    
    gameRunning = true;
    score = 0;
    startBtn.textContent = 'Playing...';
    startBtn.disabled = true;
    
    let player = { x: 50, y: 200, size: 20 };
    let enemies = [];
    
    gameInterval = setInterval(() => {
        // Clear canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Add enemy
        if (Math.random() < 0.03) {
            enemies.push({ x: canvas.width, y: Math.random() * (canvas.height - 20), size: 15 });
        }
        
        // Move enemies
        enemies.forEach((enemy, i) => {
            enemy.x -= 3;
            if (enemy.x < -enemy.size) {
                enemies.splice(i, 1);
                score += 10;
            }
            
            // Check collision
            if (enemy.x < player.x + player.size &&
                enemy.x + enemy.size > player.x &&
                enemy.y < player.y + player.size &&
                enemy.y + enemy.size > player.y) {
                // Game over
                clearInterval(gameInterval);
                gameRunning = false;
                startBtn.textContent = 'Start Game';
                startBtn.disabled = false;
                alert('Game Over! Score: ' + score);
                return;
            }
        });
        
        // Draw player (gold square)
        ctx.fillStyle = '#c89b3c';
        ctx.fillRect(player.x, player.y, player.size, player.size);
        
        // Draw enemies (red squares)
        ctx.fillStyle = '#dc3545';
        enemies.forEach(enemy => {
            ctx.fillRect(enemy.x, enemy.y, enemy.size, enemy.size);
        });
        
        // Update score
        const scoreEl = document.getElementById('gameScore');
        if (scoreEl) {
            scoreEl.textContent = 'Score: ' + score;
        }
        
    }, 20);
    
    // Mouse control
    canvas.onmousemove = (e) => {
        if (gameRunning) {
            const rect = canvas.getBoundingClientRect();
            player.x = e.clientX - rect.left - player.size/2;
            player.y = e.clientY - rect.top - player.size/2;
        }
    };
}

// Smooth scrolling for navigation
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Close modals when clicking outside
window.onclick = function(event) {
    const gameModal = document.getElementById('gameModal');
    const championModal = document.getElementById('championModal');
    
    if (event.target === gameModal) {
        closeGame();
    }
    if (event.target === championModal) {
        closeChampionModal();
    }
};

// WORKING GAME FUNCTIONS
function openGame() {
    console.log('Opening game...');
    const modal = document.getElementById('gameModal');
    if (modal) {
        modal.style.display = 'block';
        modal.style.zIndex = '1000';
        console.log('Game modal opened');
    } else {
        console.log('Game modal not found');
    }
}

function closeGame() {
    const modal = document.getElementById('gameModal');
    if (modal) {
        modal.style.display = 'none';
    }
    if (gameInterval) {
        clearInterval(gameInterval);
        gameInterval = null;
        gameRunning = false;
    }
}

function startSkillshotGame() {
    console.log('Starting skillshot game...');
    if (gameRunning) return;
    
    const canvas = document.getElementById('gameCanvas');
    const startBtn = document.getElementById('startGame');
    
    if (!canvas) {
        console.log('Canvas not found');
        return;
    }
    
    const ctx = canvas.getContext('2d');
    
    gameRunning = true;
    score = 0;
    
    if (startBtn) {
        startBtn.textContent = 'Playing...';
        startBtn.disabled = true;
    }
    
    let player = { x: 50, y: 200, size: 20 };
    let enemies = [];
    
    console.log('Game loop starting...');
    
    gameInterval = setInterval(() => {
        // Clear canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Spawn enemies
        if (Math.random() < 0.03) {
            enemies.push({
                x: canvas.width,
                y: Math.random() * (canvas.height - 20),
                size: 15
            });
        }
        
        // Update enemies
        for (let i = enemies.length - 1; i >= 0; i--) {
            const enemy = enemies[i];
            enemy.x -= 3;
            
            // Remove off-screen enemies
            if (enemy.x < -enemy.size) {
                enemies.splice(i, 1);
                score += 10;
                continue;
            }
            
            // Check collision
            if (enemy.x < player.x + player.size &&
                enemy.x + enemy.size > player.x &&
                enemy.y < player.y + player.size &&
                enemy.y + enemy.size > player.y) {
                
                // Game over
                clearInterval(gameInterval);
                gameInterval = null;
                gameRunning = false;
                
                if (startBtn) {
                    startBtn.textContent = 'Start Game';
                    startBtn.disabled = false;
                }
                
                alert('Game Over! Final Score: ' + score);
                return;
            }
        }
        
        // Draw player (gold square)
        ctx.fillStyle = '#c89b3c';
        ctx.fillRect(player.x, player.y, player.size, player.size);
        
        // Draw enemies (red squares)
        ctx.fillStyle = '#dc3545';
        enemies.forEach(enemy => {
            ctx.fillRect(enemy.x, enemy.y, enemy.size, enemy.size);
        });
        
        // Update score display
        const scoreEl = document.getElementById('gameScore');
        if (scoreEl) {
            scoreEl.textContent = 'Score: ' + score;
        }
        
    }, 20); // 50 FPS
    
    // Mouse control
    canvas.addEventListener('mousemove', (e) => {
        if (gameRunning) {
            const rect = canvas.getBoundingClientRect();
            player.x = Math.max(0, Math.min(canvas.width - player.size, e.clientX - rect.left - player.size/2));
            player.y = Math.max(0, Math.min(canvas.height - player.size, e.clientY - rect.top - player.size/2));
        }
    });
}

// WORKING MULTILINGUAL FUNCTIONS
function changeLanguage(lang) {
    console.log('Changing language to:', lang);
    currentLanguage = lang;
    
    const t = translations[lang];
    if (!t) {
        console.log('Translation not found for:', lang);
        return;
    }
    
    // Update navigation
    const navLinks = document.querySelectorAll('.nav-links a');
    if (navLinks[0]) navLinks[0].textContent = t.navHome || 'Home';
    if (navLinks[1]) navLinks[1].textContent = t.navChampions || 'Champions';
    if (navLinks[2]) navLinks[2].textContent = t.navQuiz || 'Quiz';
    if (navLinks[3]) navLinks[3].textContent = t.navGame || 'Game';
    
    // Update hero section
    const heroTitle = document.querySelector('.hero-title');
    const heroSubtitle = document.querySelector('.hero-subtitle');
    if (heroTitle) heroTitle.textContent = t.heroTitle || 'RIOT LEGENDS';
    if (heroSubtitle) heroSubtitle.textContent = t.heroSubtitle || 'Enter the Arena';
    
    // Update section titles
    const sectionTitles = document.querySelectorAll('.section-title');
    if (sectionTitles[0]) sectionTitles[0].textContent = t.championsTitle || 'CHAMPIONS';
    if (sectionTitles[1]) sectionTitles[1].textContent = t.quizTitle || 'QUIZ';
    if (sectionTitles[2]) sectionTitles[2].textContent = t.gameTitle || 'GAME';
    
    // Update game section
    const gameSubtitle = document.querySelector('#game h3');
    const gameDescription = document.querySelector('#game p');
    const gamePlayBtn = document.querySelector('#game .play-btn');
    
    if (gameSubtitle) gameSubtitle.textContent = t.gameSubtitle || 'Test Your Reflexes!';
    if (gameDescription) gameDescription.textContent = t.gameDescription || 'Dodge incoming skillshots and survive as long as possible.';
    if (gamePlayBtn) gamePlayBtn.textContent = t.gamePlay || 'ЁЯОо PLAY NOW';
    
    // Update quiz section
    const quizSubtitle = document.querySelector('#quiz h3');
    const quizDescription = document.querySelector('#quiz p');
    const quizStartBtn = document.querySelector('#quiz .quiz-btn');
    
    if (quizSubtitle) quizSubtitle.textContent = t.quizSubtitle || 'Test Your Knowledge';
    if (quizDescription) quizDescription.textContent = t.quizDescription || 'Challenge yourself with questions about champions and lore.';
    if (quizStartBtn) quizStartBtn.textContent = t.quizStart || 'START QUIZ';
    
    // Update filter buttons
    const filterButtons = document.querySelectorAll('.filter-btn');
    if (filterButtons[0]) filterButtons[0].textContent = t.filterAll || 'All';
    if (filterButtons[1]) filterButtons[1].textContent = t.filterAssassin || 'Assassin';
    if (filterButtons[2]) filterButtons[2].textContent = t.filterMage || 'Mage';
    if (filterButtons[3]) filterButtons[3].textContent = t.filterTank || 'Tank';
    if (filterButtons[4]) filterButtons[4].textContent = t.filterSupport || 'Support';
    
    console.log('Language changed successfully');
}
